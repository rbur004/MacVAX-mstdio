/*includes*/#include	<quickdraw.h>#include	<stdio.h>#include	<stdlib.h>#include "aprintf.h"#include "wprintf.h"#include "mmalloc.h"static char *wprintf_buff;static long wprintf_i = 0;int wprintf(void *my_va_alist, ...){int i;my_va_list ap;char *fmt;	if(wprintf_buff == (char *)0)		wprintf_buff = (char *)mcalloc(2048,1);//	va_start(ap, va_alist);	my_va_start(ap);		fmt = my_va_arg(ap, char *);		if(( i = vsprintf(&wprintf_buff[wprintf_i],fmt, ap)) < 0)		{			aprintf("error in wprintf");			return -1;		}	my_va_end(ap);	if((wprintf_i += i) >= 2000)		wflush();	return( i );}char wputchar(	char c){	if(wprintf_buff == (char *)0)		wprintf_buff = (char *)(2048,1);	wprintf_buff[wprintf_i++] = c;	if(wprintf_i  >= 2000)		wflush();	return (c);}void printhex(int n){    wprintf( "0x%x", n );}void printdec(int n){	wprintf("%d",n);}void wflush(void){	DrawText(wprintf_buff,0,wprintf_i);	wprintf_i = 0;}void wdiscard(void){	wprintf_i = 0;}