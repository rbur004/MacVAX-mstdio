#include	"mstdio.h"longmfputs(	register char *s,	register M_FILE *iop){	register r = 0;	register c;	int unbuffered;	char temp_buf[MBUFSIZ];	/* If the file is unbuffered, then use the temporary buffer, and	 * make the file look like it is buffered.  This prevents a	 * write() system call from being done for every character.	 */	unbuffered = iop->_flag & _MIONBF;	if (unbuffered) {		iop->_flag &= ~_MIONBF;		iop->_ptr = iop->_base = temp_buf;		iop->_bufsiz = MBUFSIZ;	}	/* Write the characters to the file using putc(3S).  A write(2)	 * system call will result only if the file's buffer (iop->_base)	 * is full or if a '\n' is encountered for a line buffered file.	 */	while (c = *s++) //Yes 1 ='s		r = mputc(c, iop);	/* If the file is unbuffered, then flush it and check the status	 * to make sure that anything in the temporary buffer is written,	 * then make it into an unbuffered file again.	 */	if (unbuffered) {		if (mfflush(iop) == EOF)			r = EOF;		iop->_flag |= _MIONBF;		iop->_base = NULL;		iop->_bufsiz = 0;		iop->_cnt = 0;	}	return(r);}